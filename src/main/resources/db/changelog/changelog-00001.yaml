databaseChangeLog:
  - changeSet:
      id: 1
      author: Artur Frimu
      changes:
        - sql:
            sql: >
              CREATE TABLE IF NOT EXISTS achievements (achievement_id BIGSERIAL NOT NULL, description VARCHAR(255), user_id BIGINT NOT NULL, PRIMARY KEY (achievement_id));
              CREATE TABLE IF NOT EXISTS chapters (chapter_id BIGSERIAL NOT NULL, description VARCHAR(255), name VARCHAR(255), course_id BIGINT NOT NULL, PRIMARY KEY (chapter_id));
              CREATE TABLE IF NOT EXISTS comments (comment_id BIGSERIAL NOT NULL, content VARCHAR(255), post_id BIGINT, user_id BIGINT, PRIMARY KEY (comment_id));
              CREATE TABLE IF NOT EXISTS courses (course_id BIGSERIAL NOT NULL, description VARCHAR(255), name VARCHAR(255), PRIMARY KEY (course_id));
              CREATE TABLE IF NOT EXISTS exercises (exercise_id BIGSERIAL NOT NULL, description VARCHAR(255), name VARCHAR(255), chapter_id BIGINT, course_id BIGINT, PRIMARY KEY (exercise_id));
              CREATE TABLE IF NOT EXISTS forums (forum_id BIGSERIAL NOT NULL, description VARCHAR(255), name VARCHAR(255), PRIMARY KEY (forum_id));
              CREATE TABLE IF NOT EXISTS lessons (lesson_id BIGSERIAL NOT NULL, description VARCHAR(255), name VARCHAR(255), topic_id BIGINT, PRIMARY KEY (lesson_id));
              CREATE TABLE IF NOT EXISTS posts (post_id BIGSERIAL NOT NULL, content VARCHAR(255), title VARCHAR(255), forum_id BIGINT, PRIMARY KEY (post_id));
              CREATE TABLE IF NOT EXISTS progress (progress_id BIGSERIAL NOT NULL, progress INTEGER NOT NULL, lesson_id BIGINT, quiz_id BIGINT, topic_id BIGINT, user_id BIGINT, PRIMARY KEY (progress_id));
              CREATE TABLE IF NOT EXISTS projects (project_id BIGSERIAL NOT NULL, description VARCHAR(255), name VARCHAR(255), course_id BIGINT, section_id BIGINT, PRIMARY KEY (project_id));
              CREATE TABLE IF NOT EXISTS quiz (quiz_id BIGSERIAL NOT NULL, description VARCHAR(255), name VARCHAR(255), lesson_id BIGINT, PRIMARY KEY (quiz_id));
              CREATE TABLE IF NOT EXISTS reviews (review_id BIGSERIAL NOT NULL, content VARCHAR(255), rating INTEGER NOT NULL, course_id BIGINT, exercise_id BIGINT, lesson_id BIGINT, project_id BIGINT, quiz_id BIGINT, PRIMARY KEY (review_id));
              CREATE TABLE IF NOT EXISTS sections (section_id BIGSERIAL NOT NULL, description VARCHAR(255), name VARCHAR(255), chapter_id BIGINT NOT NULL, course_id BIGINT NOT NULL, PRIMARY KEY (section_id));
              CREATE TABLE IF NOT EXISTS tasks (task_id BIGSERIAL NOT NULL, description VARCHAR(255), name VARCHAR(255), project_id BIGINT, PRIMARY KEY (task_id));
              CREATE TABLE IF NOT EXISTS topics (topic_id BIGSERIAL NOT NULL, description VARCHAR(255), name VARCHAR(255), PRIMARY KEY (topic_id));
              CREATE TABLE IF NOT EXISTS users (user_id BIGINT NOT NULL, email VARCHAR(255), name VARCHAR(255), PRIMARY KEY (user_id));
              ALTER TABLE IF EXISTS achievements ADD CONSTRAINT FK1efgavvlxwajrr25mqpl34m1n FOREIGN KEY (user_id) REFERENCES users;
              ALTER TABLE IF EXISTS chapters ADD CONSTRAINT FK6h1m0nrtdwj37570c0sp2tdcs FOREIGN KEY (course_id) REFERENCES courses;
              ALTER TABLE IF EXISTS comments ADD CONSTRAINT FKh4c7lvsc298whoyd4w9ta25cr FOREIGN KEY (post_id) REFERENCES posts;
              ALTER TABLE IF EXISTS comments ADD CONSTRAINT FK8omq0tc18jd43bu5tjh6jvraq FOREIGN KEY (user_id) REFERENCES users;
              ALTER TABLE IF EXISTS exercises ADD CONSTRAINT FKieq04t8ly5h9hw75l965b81kf FOREIGN KEY (chapter_id) REFERENCES chapters;
              ALTER TABLE IF EXISTS exercises ADD CONSTRAINT FKow8b79ryqdfcd81wmw516d8yk FOREIGN KEY (course_id) REFERENCES courses;
              ALTER TABLE IF EXISTS lessons ADD CONSTRAINT FKn1lqfilldva7f2y31fxf3p4p1 FOREIGN KEY (topic_id) REFERENCES topics;
              ALTER TABLE IF EXISTS posts ADD CONSTRAINT FK9bleycktuep8yrcvuuveugtqf FOREIGN KEY (forum_id) REFERENCES forums;
              ALTER TABLE IF EXISTS progress ADD CONSTRAINT FKl0j4exxbrn12496b20t6o1kb3 FOREIGN KEY (lesson_id) REFERENCES lessons;
              ALTER TABLE IF EXISTS progress ADD CONSTRAINT FKnmaxe3fi83ujw127m3d0bx9r3 FOREIGN KEY (quiz_id) REFERENCES quiz;
              ALTER TABLE IF EXISTS progress ADD CONSTRAINT FKo8jg27kw8uas8qi14ofjhk3vs FOREIGN KEY (topic_id) REFERENCES topics;
              ALTER TABLE IF EXISTS progress ADD CONSTRAINT FK7fyumbty8qgbd7sfbbjnqdo62 FOREIGN KEY (user_id) REFERENCES users;
              ALTER TABLE IF EXISTS projects ADD CONSTRAINT FKpefksuunh3nqudnug39tn30rh FOREIGN KEY (course_id) REFERENCES courses;
              ALTER TABLE IF EXISTS projects ADD CONSTRAINT FK9ioeok00bmcu9ov0ds5g1hd4d FOREIGN KEY (section_id) REFERENCES sections;
              ALTER TABLE IF EXISTS quiz ADD CONSTRAINT FKl5jv88l3m78935a438fni5yla FOREIGN KEY (lesson_id) REFERENCES lessons;
              ALTER TABLE IF EXISTS reviews ADD CONSTRAINT FKccbfc9u1qimejr5ll7yuxbtqs FOREIGN KEY (course_id) REFERENCES courses;
              ALTER TABLE IF EXISTS reviews ADD CONSTRAINT FKkleatvnhtkbodty5ey9m3ckt FOREIGN KEY (exercise_id) REFERENCES exercises;
              ALTER TABLE IF EXISTS reviews ADD CONSTRAINT FKphnqphgj6xegwul9ec7965cq1 FOREIGN KEY (lesson_id) REFERENCES lessons;
              ALTER TABLE IF EXISTS reviews ADD CONSTRAINT FKardcqy60f05ca7v9eg3o1rn8p FOREIGN KEY (project_id) REFERENCES projects;
              ALTER TABLE IF EXISTS reviews ADD CONSTRAINT FKg4nbor1fu8yumto050akp0rne FOREIGN KEY (quiz_id) REFERENCES quiz;
              ALTER TABLE IF EXISTS sections ADD CONSTRAINT FKtosurpbts8twe8loj39roj4c2 FOREIGN KEY (chapter_id) REFERENCES chapters;
              ALTER TABLE IF EXISTS sections ADD CONSTRAINT FK7ty9cevpq04d90ohtso1q8312 FOREIGN KEY (course_id) REFERENCES courses;
              ALTER TABLE IF EXISTS tasks ADD CONSTRAINT FKsfhn82y57i3k9uxww1s007acc FOREIGN KEY (project_id) REFERENCES projects;